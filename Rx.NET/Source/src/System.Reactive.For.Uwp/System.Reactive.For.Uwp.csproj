<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <!-- Note: our workaround for the lack of uap10.0.xxxxx support requires use of TargetFrameworks (plural)
    even when there's just a single target. -->
    <TargetFrameworks>uap10.0.18362</TargetFrameworks>
    <RootNamespace>System.Reactive.Uwp</RootNamespace>

  <PackageTags>Rx;Reactive;Extensions;Observable;LINQ;Events;Windows Forms</PackageTags>
    <Description>Reactive Extensions (Rx) for .NET</Description>

    <PackageReadmeFile>readme.md</PackageReadmeFile>
  </PropertyGroup>

  <PropertyGroup>
    <Nullable>enable</Nullable>    
  </PropertyGroup>

  <ItemGroup>
    <ReferencePath Include="$(TargetPlatformSdkPath)UnionMetadata\10.0.18362.0\Windows.winmd" />
  </ItemGroup>

  <ItemGroup>
    <Compile Include="..\AssemblyInfo.cs" Link="Properties\AssemblyInfo.cs" />
    <Compile Include="..\System.Reactive.For.WindowsRuntime\AsyncInfoExtensions.cs" Link="AsyncInfoExtensions.cs" />
    <Compile Include="..\System.Reactive\Concurrency\UserWorkItem.cs" Link="UserWorkItem.cs" />
    <Compile Include="..\System.Reactive\Diagnostics\CodeAnalysis\NullableAttributes.cs" Link="NullableAttributes.cs" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\System.Reactive\System.Reactive.csproj" />
    <ProjectReference Include="..\System.Reactive.For.WindowsRuntime\System.Reactive.For.WindowsRuntime.csproj" />
  </ItemGroup>

  <ItemGroup>
    <Compile Update="Strings_PlatformServices.Designer.cs">
      <DependentUpon>$([MSBuild]::ValueOrDefault('%(Filename)', '').Replace('.Designer.cs', '.resx'))</DependentUpon>
    </Compile>
  </ItemGroup>

  <ItemGroup>
    <Compile Update="Strings_PlatformServices.Designer.cs">
      <DesignTime>True</DesignTime>
      <AutoGen>True</AutoGen>
      <DependentUpon>Strings_PlatformServices.resx</DependentUpon>
    </Compile>
  </ItemGroup>

  <ItemGroup>
    <EmbeddedResource Update="Strings_PlatformServices.resx">
      <Generator>ResXFileCodeGenerator</Generator>
      <LastGenOutput>Strings_PlatformServices.Designer.cs</LastGenOutput>
    </EmbeddedResource>
  </ItemGroup>

  <ItemGroup>
    <None Include="build\NuGet.Readme.md" Pack="true" PackagePath="\readme.md" />
  </ItemGroup>
</Project>
